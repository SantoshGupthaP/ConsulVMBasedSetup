{
  "version": 4,
  "terraform_version": "1.5.7",
  "serial": 358,
  "lineage": "a7c9c225-df5e-443a-2e33-c3b9f0a83c60",
  "outputs": {
    "CONSUL_HTTP_ADDR": {
      "value": "18.119.118.185:8500\n3.148.232.173:8500\n52.14.195.6:8500\n",
      "type": "string"
    },
    "consul_ui_urls": {
      "value": [
        "http://18.119.118.185:8500",
        "http://3.148.232.173:8500",
        "http://52.14.195.6:8500"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string",
          "string"
        ]
      ]
    },
    "ssh_to_consul": {
      "value": [
        "ssh -i c1-key.pem ubuntu@18.119.118.185",
        "ssh -i c1-key.pem ubuntu@3.148.232.173",
        "ssh -i c1-key.pem ubuntu@52.14.195.6"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string",
          "string"
        ]
      ]
    },
    "ssh_to_esm": {
      "value": "ssh -i c1-key.pem ubuntu@3.135.198.245",
      "type": "string"
    },
    "ssh_to_load_generator": {
      "value": "ssh -i c1-key.pem ubuntu@18.216.142.85",
      "type": "string"
    },
    "ssh_to_workload": {
      "value": [
        "ssh -i c1-key.pem ubuntu@3.144.18.9",
        "ssh -i c1-key.pem ubuntu@3.16.70.71",
        "ssh -i c1-key.pem ubuntu@52.14.122.184",
        "ssh -i c1-key.pem ubuntu@3.138.172.221",
        "ssh -i c1-key.pem ubuntu@3.148.183.136"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string",
          "string",
          "string",
          "string"
        ]
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "ubuntu",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_unsafe_filter": null,
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:us-east-2::image/ami-0403a1833008b227d",
            "block_device_mappings": [
              {
                "device_name": "/dev/sda1",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-02c2ebc78f193f180",
                  "throughput": "0",
                  "volume_initialization_rate": "0",
                  "volume_size": "8",
                  "volume_type": "gp2"
                },
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdb",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral0"
              },
              {
                "device_name": "/dev/sdc",
                "ebs": {},
                "no_device": "",
                "virtual_name": "ephemeral1"
              }
            ],
            "boot_mode": "uefi-preferred",
            "creation_date": "2025-09-11T06:55:21.000Z",
            "deprecation_time": "2027-09-11T06:55:21.000Z",
            "description": "Canonical, Ubuntu, 22.04, amd64 jammy image",
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0403a1833008b227d",
            "image_id": "ami-0403a1833008b227d",
            "image_location": "amazon/ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20250911",
            "image_owner_alias": "amazon",
            "image_type": "machine",
            "imds_support": "",
            "include_deprecated": false,
            "kernel_id": "",
            "last_launched_time": "",
            "most_recent": true,
            "name": "ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-20250911",
            "name_regex": null,
            "owner_id": "099720109477",
            "owners": [
              "099720109477"
            ],
            "platform": "",
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": true,
            "ramdisk_id": "",
            "region": "us-east-2",
            "root_device_name": "/dev/sda1",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-02c2ebc78f193f180",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "timeouts": null,
            "tpm_support": "",
            "uefi_data": null,
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "auto_discover_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1048088721",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeTags\",\n        \"ec2:DescribeInstances\",\n        \"autoscaling:DescribeAutoScalingGroups\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:DescribeTags\",\"ec2:DescribeInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Resource\":\"*\"}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "autoscaling:DescribeAutoScalingGroups",
                  "ec2:DescribeInstances",
                  "ec2:DescribeTags"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "instance_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2851119427",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "ec2.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (Ohio)",
            "endpoint": "ec2.us-east-2.amazonaws.com",
            "id": "us-east-2",
            "name": "us-east-2",
            "region": "us-east-2"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "esm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::857619977540:instance-profile/jpmc-cluster2-consul-esm-profile",
            "create_date": "2025-09-16T07:04:19Z",
            "id": "jpmc-cluster2-consul-esm-profile",
            "name": "jpmc-cluster2-consul-esm-profile",
            "name_prefix": "",
            "path": "/",
            "role": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPA4PLRCKVCAAQOREY53"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.esm"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "instance_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::857619977540:instance-profile/jpmc-cluster220250916070419051600000002",
            "create_date": "2025-09-16T07:04:19Z",
            "id": "jpmc-cluster220250916070419051600000002",
            "name": "jpmc-cluster220250916070419051600000002",
            "name_prefix": "jpmc-cluster2",
            "path": "/",
            "role": "jpmc-cluster220250916070416675700000001",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPA4PLRCKVCIU5HHMS5Y"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.instance_role",
            "data.aws_iam_policy_document.instance_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "esm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::857619977540:role/jpmc-cluster2-consul-esm-role-singlepartitiontest30s",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2008-10-17\"}",
            "create_date": "2025-09-16T07:04:17Z",
            "description": "",
            "force_detach_policies": false,
            "id": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s",
            "inline_policy": [
              {
                "name": "jpmc-cluster2-consul-esm-ssm-parameters",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ssm:GetParameter\",\"ssm:GetParameters\",\"ssm:GetParametersByPath\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ssm:us-east-2:857619977540:parameter/jpmc-cluster2-consul/esm/config\"]}]}"
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            ],
            "max_session_duration": 3600,
            "name": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROA4PLRCKVCDSMSL5UJU"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "instance_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::857619977540:role/jpmc-cluster220250916070416675700000001",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-09-16T07:04:17Z",
            "description": "",
            "force_detach_policies": false,
            "id": "jpmc-cluster220250916070416675700000001",
            "inline_policy": [
              {
                "name": "jpmc-cluster2-auto-discover-cluster",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ec2:DescribeTags\",\"ec2:DescribeInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "jpmc-cluster220250916070416675700000001",
            "name_prefix": "jpmc-cluster2",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROA4PLRCKVCEI56FZL7H"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.instance_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "auto_discover_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jpmc-cluster220250916070416675700000001:jpmc-cluster2-auto-discover-cluster",
            "name": "jpmc-cluster2-auto-discover-cluster",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ec2:DescribeTags\",\"ec2:DescribeInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "jpmc-cluster220250916070416675700000001"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.instance_role",
            "data.aws_iam_policy_document.auto_discover_cluster",
            "data.aws_iam_policy_document.instance_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "ssm_parameters",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s:jpmc-cluster2-consul-esm-ssm-parameters",
            "name": "jpmc-cluster2-consul-esm-ssm-parameters",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ssm:GetParameter\",\"ssm:GetParameters\",\"ssm:GetParametersByPath\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ssm:us-east-2:857619977540:parameter/jpmc-cluster2-consul/esm/config\"]}]}",
            "role": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.esm",
            "aws_iam_role.instance_role",
            "aws_instance.consul",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "aws_ssm_parameter.esm_config",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ssm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s/arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "jpmc-cluster2-consul-esm-role-singlepartitiontest30s"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.esm"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "consul",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-05a550c87dcc2bc79",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 8,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster220250916070419051600000002",
            "id": "i-05a550c87dcc2bc79",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m6i.4xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "enabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-06b8c134862d21195"
              }
            ],
            "primary_network_interface_id": "eni-06b8c134862d21195",
            "private_dns": "ip-10-0-3-149.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.149",
            "public_dns": "ec2-18-119-118-185.us-east-2.compute.amazonaws.com",
            "public_ip": "18.119.118.185",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 3000,
                "kms_key_id": "arn:aws:kms:us-east-2:857619977540:key/e0638552-e977-4969-bf96-22e0977fb546",
                "tags": {},
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-08ffa15857fe6dd25",
                "volume_size": 300,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-consul-service-1",
              "NomadType": "client"
            },
            "tags_all": {
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-consul-service-1",
              "NomadType": "client"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nset +e\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n#sudo apt update \u0026\u0026 sudo apt install -y unzip\n#curl -LO https://github.com/hashi-stack/minion-chat-advance-resources/archive/refs/heads/main.zip\n#unzip main.zip -d /tmp\n#sudo cp -R /tmp/minion-chat-advance-resources-main/4-consul-service-mesh-mgw-muti-dc/shared /ops/shared/\n\n# wait until the file is copied\nif [ ! -f /tmp/shared/scripts/server.sh ]; then\n  echo \"Waiting for server.sh to be copied...\"\n  while [ ! -f /tmp/shared/scripts/server.sh ]; do\n    sleep 5\n  done\nfi\nsleep 10\nsudo mkdir -p /ops/shared \u0026\u0026 sudo chmod a+rwx /ops/shared\nsudo cp -R /tmp/shared /ops/\n\nset -e\n\nsudo bash /ops/shared/scripts/server.sh \"aws\" \"3\" \"provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0\" \"1.21.0+ent\" \"1.33.2-1\"\n\n\nCLOUD_ENV=\"aws\"\n\nsed -i \"s/RETRY_JOIN/provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0/g\" /etc/consul.d/consul.hcl\n\n# for aws only\nTOKEN=$(curl -X PUT \"http://instance-data/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\nPRIVATE_IP=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://instance-data/latest/meta-data/local-ipv4)\nsed -i \"s/IP_ADDRESS/$PRIVATE_IP/g\" /etc/consul.d/consul.hcl\nsed -i \"s/SERVER_COUNT/3/g\" /etc/consul.d/consul.hcl\n\nsudo systemctl restart consul.service\n\nsleep 30\n\necho \"Consul started\"\n\n# Install and configure Node Exporter for system monitoring\necho \"Installing Node Exporter...\"\n\n# Create node_exporter user\nsudo useradd --system --no-create-home --shell /bin/false node_exporter\n\n# Download and install Node Exporter\ncd /tmp\ncurl -LO https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz\ntar -xzf node_exporter-1.7.0.linux-amd64.tar.gz\nsudo mv node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/\nsudo chown node_exporter:node_exporter /usr/local/bin/node_exporter\nrm -rf node_exporter-1.7.0.linux-amd64*\n\n# Create Node Exporter systemd service\nsudo tee /etc/systemd/system/node_exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nType=simple\nUser=node_exporter\nGroup=node_exporter\nExecStart=/usr/local/bin/node_exporter\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start Node Exporter\nsudo systemctl daemon-reload\nsudo systemctl enable node_exporter\nsudo systemctl start node_exporter\n\necho \"Node Exporter installation completed\"\n\n# # starting the application\n# if [ \"jpmc-cluster2-consul-server\" = \"consul-server=1\" ]; then\n#   # receiver\n#   consul peering generate-token -name cluster-02\n# elif [ \"jpmc-cluster2-consul-server\" = \"consul-server=0\" ]; then\n#   # dialer\n#   consul peering establish -name cluster-01 -peering-token token-from-generate\n# else\n#   echo \"Unknown application name: jpmc-cluster2-consul-server\"\n# fi\n\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-04939baf10d639a93"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.instance_role",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-01b7d8b7080ca319b",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 8,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster220250916070419051600000002",
            "id": "i-01b7d8b7080ca319b",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m6i.4xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "enabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-071165d878f7a087c"
              }
            ],
            "primary_network_interface_id": "eni-071165d878f7a087c",
            "private_dns": "ip-10-0-3-26.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.26",
            "public_dns": "ec2-3-148-232-173.us-east-2.compute.amazonaws.com",
            "public_ip": "3.148.232.173",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 3000,
                "kms_key_id": "arn:aws:kms:us-east-2:857619977540:key/e0638552-e977-4969-bf96-22e0977fb546",
                "tags": {},
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-0ac08e59b148abfa5",
                "volume_size": 300,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-consul-service-2",
              "NomadType": "client"
            },
            "tags_all": {
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-consul-service-2",
              "NomadType": "client"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nset +e\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n#sudo apt update \u0026\u0026 sudo apt install -y unzip\n#curl -LO https://github.com/hashi-stack/minion-chat-advance-resources/archive/refs/heads/main.zip\n#unzip main.zip -d /tmp\n#sudo cp -R /tmp/minion-chat-advance-resources-main/4-consul-service-mesh-mgw-muti-dc/shared /ops/shared/\n\n# wait until the file is copied\nif [ ! -f /tmp/shared/scripts/server.sh ]; then\n  echo \"Waiting for server.sh to be copied...\"\n  while [ ! -f /tmp/shared/scripts/server.sh ]; do\n    sleep 5\n  done\nfi\nsleep 10\nsudo mkdir -p /ops/shared \u0026\u0026 sudo chmod a+rwx /ops/shared\nsudo cp -R /tmp/shared /ops/\n\nset -e\n\nsudo bash /ops/shared/scripts/server.sh \"aws\" \"3\" \"provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0\" \"1.21.0+ent\" \"1.33.2-1\"\n\n\nCLOUD_ENV=\"aws\"\n\nsed -i \"s/RETRY_JOIN/provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0/g\" /etc/consul.d/consul.hcl\n\n# for aws only\nTOKEN=$(curl -X PUT \"http://instance-data/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\nPRIVATE_IP=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://instance-data/latest/meta-data/local-ipv4)\nsed -i \"s/IP_ADDRESS/$PRIVATE_IP/g\" /etc/consul.d/consul.hcl\nsed -i \"s/SERVER_COUNT/3/g\" /etc/consul.d/consul.hcl\n\nsudo systemctl restart consul.service\n\nsleep 30\n\necho \"Consul started\"\n\n# Install and configure Node Exporter for system monitoring\necho \"Installing Node Exporter...\"\n\n# Create node_exporter user\nsudo useradd --system --no-create-home --shell /bin/false node_exporter\n\n# Download and install Node Exporter\ncd /tmp\ncurl -LO https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz\ntar -xzf node_exporter-1.7.0.linux-amd64.tar.gz\nsudo mv node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/\nsudo chown node_exporter:node_exporter /usr/local/bin/node_exporter\nrm -rf node_exporter-1.7.0.linux-amd64*\n\n# Create Node Exporter systemd service\nsudo tee /etc/systemd/system/node_exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nType=simple\nUser=node_exporter\nGroup=node_exporter\nExecStart=/usr/local/bin/node_exporter\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start Node Exporter\nsudo systemctl daemon-reload\nsudo systemctl enable node_exporter\nsudo systemctl start node_exporter\n\necho \"Node Exporter installation completed\"\n\n# # starting the application\n# if [ \"jpmc-cluster2-consul-server\" = \"consul-server=1\" ]; then\n#   # receiver\n#   consul peering generate-token -name cluster-02\n# elif [ \"jpmc-cluster2-consul-server\" = \"consul-server=0\" ]; then\n#   # dialer\n#   consul peering establish -name cluster-01 -peering-token token-from-generate\n# else\n#   echo \"Unknown application name: jpmc-cluster2-consul-server\"\n# fi\n\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-04939baf10d639a93"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.instance_role",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0d76dd386e5423553",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 8,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster220250916070419051600000002",
            "id": "i-0d76dd386e5423553",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m6i.4xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "enabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0e79597c00ffa5f07"
              }
            ],
            "primary_network_interface_id": "eni-0e79597c00ffa5f07",
            "private_dns": "ip-10-0-3-60.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.60",
            "public_dns": "ec2-52-14-195-6.us-east-2.compute.amazonaws.com",
            "public_ip": "52.14.195.6",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 3000,
                "kms_key_id": "arn:aws:kms:us-east-2:857619977540:key/e0638552-e977-4969-bf96-22e0977fb546",
                "tags": {},
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-07f021821996d1d7d",
                "volume_size": 300,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-consul-service-3",
              "NomadType": "client"
            },
            "tags_all": {
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-consul-service-3",
              "NomadType": "client"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nset +e\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n#sudo apt update \u0026\u0026 sudo apt install -y unzip\n#curl -LO https://github.com/hashi-stack/minion-chat-advance-resources/archive/refs/heads/main.zip\n#unzip main.zip -d /tmp\n#sudo cp -R /tmp/minion-chat-advance-resources-main/4-consul-service-mesh-mgw-muti-dc/shared /ops/shared/\n\n# wait until the file is copied\nif [ ! -f /tmp/shared/scripts/server.sh ]; then\n  echo \"Waiting for server.sh to be copied...\"\n  while [ ! -f /tmp/shared/scripts/server.sh ]; do\n    sleep 5\n  done\nfi\nsleep 10\nsudo mkdir -p /ops/shared \u0026\u0026 sudo chmod a+rwx /ops/shared\nsudo cp -R /tmp/shared /ops/\n\nset -e\n\nsudo bash /ops/shared/scripts/server.sh \"aws\" \"3\" \"provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0\" \"1.21.0+ent\" \"1.33.2-1\"\n\n\nCLOUD_ENV=\"aws\"\n\nsed -i \"s/RETRY_JOIN/provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0/g\" /etc/consul.d/consul.hcl\n\n# for aws only\nTOKEN=$(curl -X PUT \"http://instance-data/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\nPRIVATE_IP=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://instance-data/latest/meta-data/local-ipv4)\nsed -i \"s/IP_ADDRESS/$PRIVATE_IP/g\" /etc/consul.d/consul.hcl\nsed -i \"s/SERVER_COUNT/3/g\" /etc/consul.d/consul.hcl\n\nsudo systemctl restart consul.service\n\nsleep 30\n\necho \"Consul started\"\n\n# Install and configure Node Exporter for system monitoring\necho \"Installing Node Exporter...\"\n\n# Create node_exporter user\nsudo useradd --system --no-create-home --shell /bin/false node_exporter\n\n# Download and install Node Exporter\ncd /tmp\ncurl -LO https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz\ntar -xzf node_exporter-1.7.0.linux-amd64.tar.gz\nsudo mv node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/\nsudo chown node_exporter:node_exporter /usr/local/bin/node_exporter\nrm -rf node_exporter-1.7.0.linux-amd64*\n\n# Create Node Exporter systemd service\nsudo tee /etc/systemd/system/node_exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nType=simple\nUser=node_exporter\nGroup=node_exporter\nExecStart=/usr/local/bin/node_exporter\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start Node Exporter\nsudo systemctl daemon-reload\nsudo systemctl enable node_exporter\nsudo systemctl start node_exporter\n\necho \"Node Exporter installation completed\"\n\n# # starting the application\n# if [ \"jpmc-cluster2-consul-server\" = \"consul-server=1\" ]; then\n#   # receiver\n#   consul peering generate-token -name cluster-02\n# elif [ \"jpmc-cluster2-consul-server\" = \"consul-server=0\" ]; then\n#   # dialer\n#   consul peering establish -name cluster-01 -peering-token token-from-generate\n# else\n#   echo \"Unknown application name: jpmc-cluster2-consul-server\"\n# fi\n\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-04939baf10d639a93"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.instance_role",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "esm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0624089fd15a7b332",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 8,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster2-consul-esm-profile",
            "id": "i-0624089fd15a7b332",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m6i.4xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0193432a37d9ced26"
              }
            ],
            "primary_network_interface_id": "eni-0193432a37d9ced26",
            "private_dns": "ip-10-0-3-27.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.27",
            "public_dns": "ec2-3-135-198-245.us-east-2.compute.amazonaws.com",
            "public_ip": "3.135.198.245",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 3000,
                "kms_key_id": "arn:aws:kms:us-east-2:857619977540:key/e0638552-e977-4969-bf96-22e0977fb546",
                "tags": {},
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-0394c3ee7d1db4dcb",
                "volume_size": 300,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-consul-esm-instance"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-consul-esm-instance"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\n# Install necessary packages\nsudo apt-get update -y\nsudo apt-get install -y wget unzip jq\n\n# # Start SSM agent\n# systemctl enable amazon-ssm-agent\n# systemctl start amazon-ssm-agent\n\n# Install node_exporter for monitoring\nwget https://github.com/prometheus/node_exporter/releases/download/v1.9.1/node_exporter-1.9.1.linux-amd64.tar.gz\ntar xvfz node_exporter-*.tar.gz\nmv node_exporter-1.9.1.linux-amd64/node_exporter /usr/local/bin/\nrm -rf node_exporter-*\n\n# Create node_exporter service\ncat \u003c\u003c EOF | tee /etc/systemd/system/node_exporter.service \u003e /dev/null\n[Unit]\nDescription=Node Exporter\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=/usr/local/bin/node_exporter\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Start node_exporter\nsystemctl enable node_exporter\nsystemctl start node_exporter\n\n# Install Consul ESM\nwget https://releases.hashicorp.com/consul-esm/0.9.0/consul-esm_0.9.0_linux_amd64.zip\nunzip consul-esm_0.9.0_linux_amd64.zip\nmv consul-esm /usr/local/bin/\nrm consul-esm_0.9.0_linux_amd64.zip\n\n# Create ESM config directory\nmkdir -p /etc/consul-esm\n\n# Create proper ESM configuration for version 0.7.1\ncat \u003c\u003c EOF | sudo  tee /etc/consul-esm/config.hcl \u003e /dev/null\n# Consul ESM Configuration for version 0.9.0\nlog_level = \"INFO\"\nenable_syslog = false\n\n# instance_id = \"consul-esm-jpmc-cluster2\"\n# For emitting Consul ESM metrics to Prometheus\nclient_address = \"0.0.0.0:8080\"\n# service registration \nconsul_service = \"consul-esm\"\nconsul_service_tag = \"consul-external-service-monitor-tag\"\n\nconsul_kv_path = \"consul-esm/\"\n\n# External node metadata - Standard ESM detection keys\nexternal_node_meta {\n  \"external-node\" = \"true\"\n  \"external-probe\" = \"true\"\n}\n\n# Basic ESM settings\nnode_reconnect_timeout = \"72h\"\n#node_probe_interval = \"10s\"\nnode_probe_interval = \"10s\"\ndisable_coordinate_updates = false\n\nenable_agentless = true\n\n# Consul connection configuration\n\n# The address of the Consul server to use if enable_agentless is set to true.\n# Can also be provided through the CONSUL_HTTP_ADDR environment variable.\nhttp_addr = \"10.0.3.149:8500\"\n\n# The ACL token to use when communicating with the local Consul agent. Can\n# also be provided through the CONSUL_HTTP_TOKEN environment variable.\ntoken = \"e95b599e-166e-7d80-08ad-aee76e7ddf19\"\n#token = \"e95b599e-166e-7d80-08ad-aee76e7ddf19\"\n\n# The Consul datacenter to use.\ndatacenter = \"dc1\"\n\n# The target Admin Partition to use.\n# Can also be provided through the CONSUL_PARTITION environment variable.\npartition = \"global\"\n\n# Telemetry configuration\ntelemetry {\n  disable_hostname = false\n  prometheus_retention_time = \"24h\"\n  filter_default = true\n}\nEOF\n\n# Create ESM service with enhanced configuration\ncat \u003c\u003c EOF | sudo tee /etc/systemd/system/consul-esm.service \u003e /dev/null\n[Unit]\nDescription=Consul ESM (External Service Monitor)\nDocumentation=https://github.com/hashicorp/consul-esm\nRequires=network-online.target\nAfter=network-online.target\nConditionFileNotEmpty=/etc/consul-esm/config.hcl\n\n[Service]\nType=notify\nUser=root\nGroup=root\nExecStart=/usr/local/bin/consul-esm -config-file=/etc/consul-esm/config.hcl\nExecReload=/bin/kill -HUP \\$MAINPID\nKillMode=process\nRestart=on-failure\nLimitNOFILE=65536\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create ESM log directory\nsudo mkdir -p /var/log/consul-esm\nchown root:root /var/log/consul-esm\n\n# Start ESM service\nsystemctl daemon-reload\nsystemctl enable consul-esm\nsystemctl start consul-esm\n\n\necho \"Consul ESM setup complete!\"\necho \"ESM Status: $(systemctl is-active consul-esm)\"\necho \"ESM is now monitoring external services and performing health checks\" ",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-02d7ca563e292b924"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.esm",
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.esm",
            "aws_iam_role.instance_role",
            "aws_instance.consul",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "aws_security_group.esm",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "grafana",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0bb8e4b8c08b1ed48",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster220250916070419051600000002",
            "id": "i-0bb8e4b8c08b1ed48",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "enabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0d217addb5a197a41"
              }
            ],
            "primary_network_interface_id": "eni-0d217addb5a197a41",
            "private_dns": "ip-10-0-3-215.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.215",
            "public_dns": "ec2-18-227-49-234.us-east-2.compute.amazonaws.com",
            "public_ip": "18.227.49.234",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0bb1b8b33388f528a",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-grafana"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-grafana"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\nsudo apt-get update\nsudo apt-get install -y apt-transport-https software-properties-common wget\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\necho \"deb https://packages.grafana.com/oss/deb stable main\" | sudo tee /etc/apt/sources.list.d/grafana.list\nsudo apt-get update\nsudo apt-get install -y grafana\n\nsudo systemctl enable grafana-server\nsudo systemctl start grafana-server\n\n# Install Consul datasource plugin (optional, for advanced dashboards)\n# sudo grafana-cli plugins install grafana-consul-datasource\n# sudo systemctl restart grafana-server\n\n# Configure Consul datasource via provisioning (recommended)\nsudo mkdir -p /etc/grafana/provisioning/datasources\ncat \u003c\u003cEOD | sudo tee /etc/grafana/provisioning/datasources/consul.yaml\napiVersion: 1\ndatasources:\n  - name: Consul\n    type: grafana-consul-datasource\n    access: proxy\n    url: http://10.0.3.149:8500\n    isDefault: false\nEOD\n\nsudo systemctl restart grafana-server\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-04939baf10d639a93",
              "sg-073a824f141637989"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.instance_role",
            "aws_instance.consul",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "aws_security_group.grafana_sg",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "load_generator",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0daf30727a914439e",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 1,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-0daf30727a914439e",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "t3.large",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0cee2d856c0aae553"
              }
            ],
            "primary_network_interface_id": "eni-0cee2d856c0aae553",
            "private_dns": "ip-10-0-3-24.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.24",
            "public_dns": "ec2-18-216-142-85.us-east-2.compute.amazonaws.com",
            "public_ip": "18.216.142.85",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-01a142a88cd1d6cb4",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-load-generator"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-load-generator"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\nsudo apt-get update -y\n\nsudo apt-get install -y unzip wget\n\n# Download Consul\nwget https://releases.hashicorp.com/consul/1.21.0+ent/consul_1.21.0+ent_linux_amd64.zip\n\n# Unzip and install\nunzip consul_1.21.0+ent_linux_amd64.zip\nsudo mv consul /usr/local/bin/\nrm consul_1.21.0+ent_linux_amd64.zip\n\necho \"export CONSUL_HTTP_TOKEN=e95b599e-166e-7d80-08ad-aee76e7ddf19\" \u003e\u003e /home/ubuntu/.bashrc\necho \"export CONSUL_HTTP_ADDR=10.0.3.149:8500\" \u003e\u003e /home/ubuntu/.bashrc",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-02c91392171998364"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.instance_role",
            "aws_instance.consul",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "aws_security_group.load_generator",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "mgw_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-03045dbd1a44abce4",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 8,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster220250916070419051600000002",
            "id": "i-03045dbd1a44abce4",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m6i.4xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "enabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-088daf34585e60efb"
              }
            ],
            "primary_network_interface_id": "eni-088daf34585e60efb",
            "private_dns": "ip-10-0-3-117.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.117",
            "public_dns": "ec2-3-144-31-255.us-east-2.compute.amazonaws.com",
            "public_ip": "3.144.31.255",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": true,
                "iops": 3000,
                "kms_key_id": "arn:aws:kms:us-east-2:857619977540:key/e0638552-e977-4969-bf96-22e0977fb546",
                "tags": null,
                "tags_all": {},
                "throughput": 125,
                "volume_id": "vol-0a78e5fd7f9553c74",
                "volume_size": 30,
                "volume_type": "gp3"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Cluster": "cluster1",
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-mesh-gateway",
              "NomadType": "client",
              "Type": "mesh-gateway"
            },
            "tags_all": {
              "Cluster": "cluster1",
              "ConsulAutoJoin": "auto-join-0",
              "Name": "jpmc-cluster2-mesh-gateway",
              "NomadType": "client",
              "Type": "mesh-gateway"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nset -e\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n# wait until the file is copied\nif [ ! -f /tmp/shared/scripts/client.sh ]; then\n  echo \"Waiting for client.sh to be copied...\"\n  while [ ! -f /tmp/shared/scripts/client.sh ]; do\n    sleep 5\n  done\nfi\n\nsudo mkdir -p /ops/shared\n# sleep for 10s to ensure the file is copied\nsleep 10\nsudo cp -R /tmp/shared /ops/\n\nsudo bash /ops/shared/scripts/client.sh \"aws\" \"provider=aws tag_key=ConsulAutoJoin tag_value=auto-join-0\" \"1.21.0+ent\" \"1.33.2-1\"\n\n# Install and configure Node Exporter for system monitoring\necho \"Installing Node Exporter...\"\n\n# Create node_exporter user\nsudo useradd --system --no-create-home --shell /bin/false node_exporter\n\n# Download and install Node Exporter\ncd /tmp\ncurl -LO https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz\ntar -xzf node_exporter-1.7.0.linux-amd64.tar.gz\nsudo mv node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/\nsudo chown node_exporter:node_exporter /usr/local/bin/node_exporter\nrm -rf node_exporter-1.7.0.linux-amd64*\n\n# Create Node Exporter systemd service\nsudo tee /etc/systemd/system/node_exporter.service \u003e /dev/null \u003c\u003cEOF\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nType=simple\nUser=node_exporter\nGroup=node_exporter\nExecStart=/usr/local/bin/node_exporter\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Enable and start Node Exporter\nsudo systemctl daemon-reload\nsudo systemctl enable node_exporter\nsudo systemctl start node_exporter\n\necho \"Node Exporter installation completed\"\n\n# wait for consul to start\nsleep 10\n\n# Get EC2 metadata token for IMDSv2\nTOKEN=$(curl -X PUT \"http://instance-data/latest/api/token\" -H \"X-aws-ec2-metadata-token-ttl-seconds: 21600\")\n\nPUBLIC_IP=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://instance-data/latest/meta-data/public-ipv4)\nPRIVATE_IP=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://instance-data/latest/meta-data/local-ipv4)\nINSTANCE_ID=$(curl -H \"X-aws-ec2-metadata-token: $TOKEN\" http://instance-data/latest/meta-data/instance-id)\n\nexport CONSUL_HTTP_TOKEN=e95b599e-166e-7d80-08ad-aee76e7ddf19\n\n# Debug application name\n# echo \"Debug: application_name=mgw-service\"\n\n  echo \"Setting up mesh gateway for jpmc-cluster2...\"\n  \n  # Wait for consul to be ready\n  echo \"Waiting for Consul to be ready...\"\n  for i in {1..20}; do\n    if consul members \u003e /dev/null 2\u003e\u00261; then\n      echo \"Consul is ready!\"\n      break\n    fi\n    echo \"Waiting... (attempt $i/20)\"\n    sleep 10\n  done\n\n  # Create proxy defaults configuration for mesh gateway\n  sudo tee /tmp/proxy-default.hcl \u003e /dev/null \u003c\u003c 'PROXY_EOF'\nKind = \"proxy-defaults\"\nName = \"global\"\nMeshGateway {\n  Mode = \"local\"\n}\nPROXY_EOF\n\n  # Create mesh configuration for peering\n  sudo tee /tmp/mesh-config.hcl \u003e /dev/null \u003c\u003c 'MESH_EOF'\nKind = \"mesh\"\nTransparentProxy {\n  MeshDestinationsOnly = true\n}\nPeering {\n  PeerThroughMeshGateways = true\n}\nMESH_EOF\n\n  # Apply configurations with retries\n  echo \"Applying Consul configurations...\"\n  for i in {1..5}; do\n    if consul config write /tmp/proxy-default.hcl; then\n      echo \" Proxy defaults configuration applied\"\n      break\n    else\n      echo \" Failed to apply proxy defaults (attempt $i/5), retrying...\"\n      sleep 5\n    fi\n  done\n\n  for i in {1..5}; do\n    if consul config write /tmp/mesh-config.hcl; then\n      echo \" Mesh configuration applied\"\n      break\n    else\n      echo \" Failed to apply mesh config (attempt $i/5), retrying...\"\n      sleep 5\n    fi\n  done\n\n  # Kill any existing envoy processes\n  sudo pkill -f envoy || true\n  sleep 3\n\n  # Create log file with proper permissions\n  sudo touch /var/log/envoy-mgw.log\n  sudo chmod 666 /var/log/envoy-mgw.log\n\n  # Start mesh gateway with Envoy and improved error handling\n  echo \"Starting mesh gateway with Envoy...\"\n  #TODO register it to background instead of running it once, that way machine restarts will also restart the gateway\n  nohup consul connect envoy \\\n    -gateway mesh \\\n    -register \\\n    -service mesh-gateway \\\n    -address $PRIVATE_IP:8443 \\\n    -wan-address $PUBLIC_IP:8443 \\\n    -token \"$CONSUL_HTTP_TOKEN\" \\\n    -- --log-level info \u003e /var/log/envoy-mgw.log 2\u003e\u00261 \u0026\n\n  # Wait for registration\n  sleep 15\n\n  # Verify mesh gateway is registered\n  echo \"Verifying mesh gateway registration...\"\n  for i in {1..10}; do\n    if consul catalog services | grep -q mesh-gateway; then\n      echo \" Mesh gateway successfully registered!\"\n      #consul catalog services | grep -q mesh-gateway \n      break\n    else\n      echo \" Waiting for mesh gateway registration... (attempt $i/10)\"\n      sleep 10\n    fi\n  done\n\n  # Final verification\n  if ! consul catalog services | grep -q mesh-gateway; then\n    echo \" Mesh gateway registration failed after multiple attempts\"\n    echo \"Checking logs...\"\n    tail -20 /var/log/envoy-mgw.log\n    exit 1\n  fi\n\n  echo \" Mesh gateway setup completed for jpmc-cluster2\"\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-04939baf10d639a93"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_instance.consul",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "data.aws_ami.ubuntu",
            "module.vpc.aws_subnet.public",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-004f8b151f932a00a",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "jpmc-cluster220250916070419051600000002",
            "id": "i-004f8b151f932a00a",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "enabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0bbef27a42d5c4840"
              }
            ],
            "primary_network_interface_id": "eni-0bbef27a42d5c4840",
            "private_dns": "ip-10-0-3-128.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.128",
            "public_dns": "ec2-18-118-208-30.us-east-2.compute.amazonaws.com",
            "public_ip": "18.118.208.30",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0ff83be2f4eaac4ca",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-prometheus"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-prometheus"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\nsudo apt-get update\nsudo apt-get install -y wget tar\n\n# Install Prometheus\nwget https://github.com/prometheus/prometheus/releases/download/v2.52.0/prometheus-2.52.0.linux-amd64.tar.gz\ntar xvf prometheus-2.52.0.linux-amd64.tar.gz\nsudo mv prometheus-2.52.0.linux-amd64/prometheus /usr/local/bin/\nsudo mv prometheus-2.52.0.linux-amd64/promtool /usr/local/bin/\nsudo mkdir -p /etc/prometheus /var/lib/prometheus\nsudo mv prometheus-2.52.0.linux-amd64/consoles /etc/prometheus/\nsudo mv prometheus-2.52.0.linux-amd64/console_libraries /etc/prometheus/\n\n# Install Consul Exporter\n# wget https://github.com/prometheus-community/consul_exporter/releases/download/v0.11.0/consul_exporter-0.11.0.linux-amd64.tar.gz\nwget https://github.com/prometheus/consul_exporter/releases/download/v0.11.0/consul_exporter-0.11.0.linux-amd64.tar.gz\ntar xvf consul_exporter-0.11.0.linux-amd64.tar.gz\nsudo mv consul_exporter-0.11.0.linux-amd64/consul_exporter /usr/local/bin/\n\n# Create Prometheus config\ncat \u003c\u003cEOC | sudo tee /etc/prometheus/prometheus.yml\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'Consul'\n    static_configs:\n      - targets: ['localhost:9107']\n  - job_name: 'Consul-Server-Node'\n    static_configs:\n      - targets: [\n          \n            \"10.0.3.149:9100\",\n          \n            \"10.0.3.26:9100\",\n          \n            \"10.0.3.60:9100\"\n          \n        ]\n  - job_name: 'Consul-ESM-Node'\n    static_configs:\n      - targets: [\n          \"10.0.3.27:9100\"\n        ]\n  - job_name: 'Consul-ESM-Agent'\n    static_configs:\n      - targets: [\n          \"10.0.3.27:8502\"\n        ]\n  - job_name: 'Consul-Server-Agent'\n    metrics_path: /v1/agent/metrics\n    params:\n      format: ['prometheus']\n    static_configs:\n      - targets: [\n          \n            \"10.0.3.149:8500\",\n          \n            \"10.0.3.26:8500\",\n          \n            \"10.0.3.60:8500\"\n          \n        ]\n    bearer_token: 'e95b599e-166e-7d80-08ad-aee76e7ddf19'\nEOC\n\n# Create systemd service for Prometheus\ncat \u003c\u003cEOP | sudo tee /etc/systemd/system/prometheus.service\n[Unit]\nDescription=Prometheus\nAfter=network.target\n\n[Service]\nUser=root\nExecStart=/usr/local/bin/prometheus --config.file=/etc/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOP\n\n# Create systemd service for Consul Exporter\ncat \u003c\u003cEOE | sudo tee /etc/systemd/system/consul_exporter.service\n[Unit]\nDescription=Consul Exporter\nAfter=network.target\n\n[Service]\nUser=root\n# Add the token as an environment variable\nEnvironment=\"CONSUL_HTTP_TOKEN=e95b599e-166e-7d80-08ad-aee76e7ddf19\"\nExecStart=/usr/local/bin/consul_exporter --consul.server=http://10.0.3.149:8500\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nEOE\n\nsudo systemctl daemon-reload\nsudo systemctl enable prometheus\nsudo systemctl start prometheus\nsudo systemctl enable consul_exporter\nsudo systemctl start consul_exporter\n",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-001033a0a5b84cbc4",
              "sg-04939baf10d639a93"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_iam_instance_profile.esm",
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.esm",
            "aws_iam_role.instance_role",
            "aws_instance.consul",
            "aws_instance.esm",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "aws_security_group.esm",
            "aws_security_group.prometheus_sg",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "workload",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0542dc92b95f88372",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-0542dc92b95f88372",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0ac4d7a48679dd379"
              }
            ],
            "primary_network_interface_id": "eni-0ac4d7a48679dd379",
            "private_dns": "ip-10-0-3-110.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.110",
            "public_dns": "ec2-3-144-18-9.us-east-2.compute.amazonaws.com",
            "public_ip": "3.144.18.9",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0a466c6f74572d314",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-workload-1"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-workload-1"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\napt-get update -y\napt-get install -y python3 python3-pip\n\npip3 install flask gunicorn\n\nmkdir -p /opt/app\n\ncat \u003c\u003c 'PY_SCRIPT' \u003e /opt/app/workload_app.py\nfrom flask import Flask, make_response\nimport random\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health_check():\n    if random.random() \u003c 0.95:\n        return make_response(\"OK\", 200)\n    else:\n        return make_response(\"Service Unavailable\", 503)\nPY_SCRIPT\n\ncd /opt/app\nnohup gunicorn --workers 2 --bind 0.0.0.0:8080 workload_app:app \u0026",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-066d996a8355cfbff"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_key_pair.minion-key",
            "aws_security_group.esm",
            "aws_security_group.workload",
            "data.aws_ami.ubuntu",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-08e5b21adf11cc2c4",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-08e5b21adf11cc2c4",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-0b00e15bffeb78e60"
              }
            ],
            "primary_network_interface_id": "eni-0b00e15bffeb78e60",
            "private_dns": "ip-10-0-3-224.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.224",
            "public_dns": "ec2-3-16-70-71.us-east-2.compute.amazonaws.com",
            "public_ip": "3.16.70.71",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-090d3c6cd84e02f69",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-workload-2"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-workload-2"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\napt-get update -y\napt-get install -y python3 python3-pip\n\npip3 install flask gunicorn\n\nmkdir -p /opt/app\n\ncat \u003c\u003c 'PY_SCRIPT' \u003e /opt/app/workload_app.py\nfrom flask import Flask, make_response\nimport random\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health_check():\n    if random.random() \u003c 0.95:\n        return make_response(\"OK\", 200)\n    else:\n        return make_response(\"Service Unavailable\", 503)\nPY_SCRIPT\n\ncd /opt/app\nnohup gunicorn --workers 2 --bind 0.0.0.0:8080 workload_app:app \u0026",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-066d996a8355cfbff"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_key_pair.minion-key",
            "aws_security_group.esm",
            "aws_security_group.workload",
            "data.aws_ami.ubuntu",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0e9569e226fe079fb",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-0e9569e226fe079fb",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-05e7a79afc9496217"
              }
            ],
            "primary_network_interface_id": "eni-05e7a79afc9496217",
            "private_dns": "ip-10-0-3-168.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.168",
            "public_dns": "ec2-52-14-122-184.us-east-2.compute.amazonaws.com",
            "public_ip": "52.14.122.184",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0dc84983a8078b065",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-workload-3"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-workload-3"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\napt-get update -y\napt-get install -y python3 python3-pip\n\npip3 install flask gunicorn\n\nmkdir -p /opt/app\n\ncat \u003c\u003c 'PY_SCRIPT' \u003e /opt/app/workload_app.py\nfrom flask import Flask, make_response\nimport random\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health_check():\n    if random.random() \u003c 0.95:\n        return make_response(\"OK\", 200)\n    else:\n        return make_response(\"Service Unavailable\", 503)\nPY_SCRIPT\n\ncd /opt/app\nnohup gunicorn --workers 2 --bind 0.0.0.0:8080 workload_app:app \u0026",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-066d996a8355cfbff"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_key_pair.minion-key",
            "aws_security_group.esm",
            "aws_security_group.workload",
            "data.aws_ami.ubuntu",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        },
        {
          "index_key": 3,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0b7406a37dd15abff",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-0b7406a37dd15abff",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-01634c1d4b5d9c562"
              }
            ],
            "primary_network_interface_id": "eni-01634c1d4b5d9c562",
            "private_dns": "ip-10-0-3-254.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.254",
            "public_dns": "ec2-3-138-172-221.us-east-2.compute.amazonaws.com",
            "public_ip": "3.138.172.221",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0d0b37efa8cf3e058",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-workload-4"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-workload-4"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\napt-get update -y\napt-get install -y python3 python3-pip\n\npip3 install flask gunicorn\n\nmkdir -p /opt/app\n\ncat \u003c\u003c 'PY_SCRIPT' \u003e /opt/app/workload_app.py\nfrom flask import Flask, make_response\nimport random\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health_check():\n    if random.random() \u003c 0.95:\n        return make_response(\"OK\", 200)\n    else:\n        return make_response(\"Service Unavailable\", 503)\nPY_SCRIPT\n\ncd /opt/app\nnohup gunicorn --workers 2 --bind 0.0.0.0:8080 workload_app:app \u0026",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-066d996a8355cfbff"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_key_pair.minion-key",
            "aws_security_group.esm",
            "aws_security_group.workload",
            "data.aws_ami.ubuntu",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        },
        {
          "index_key": 4,
          "schema_version": 2,
          "attributes": {
            "ami": "ami-0403a1833008b227d",
            "arn": "arn:aws:ec2:us-east-2:857619977540:instance/i-0264f9b12c849e924",
            "associate_public_ip_address": true,
            "availability_zone": "us-east-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_options": [
              {
                "amd_sev_snp": "",
                "core_count": 4,
                "threads_per_core": 2
              }
            ],
            "credit_specification": [],
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enable_primary_ipv6": null,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "force_destroy": false,
            "get_password_data": false,
            "hibernation": false,
            "host_id": "",
            "host_resource_group_arn": null,
            "iam_instance_profile": "",
            "id": "i-0264f9b12c849e924",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_lifecycle": "",
            "instance_market_options": [],
            "instance_state": "running",
            "instance_type": "m5.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "c1-key-cluster2",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_group_id": "",
            "placement_partition_number": 0,
            "primary_network_interface": [
              {
                "delete_on_termination": true,
                "network_interface_id": "eni-01da3b0da90bd8413"
              }
            ],
            "primary_network_interface_id": "eni-01da3b0da90bd8413",
            "private_dns": "ip-10-0-3-134.us-east-2.compute.internal",
            "private_dns_name_options": [
              {
                "enable_resource_name_dns_a_record": false,
                "enable_resource_name_dns_aaaa_record": false,
                "hostname_type": "ip-name"
              }
            ],
            "private_ip": "10.0.3.134",
            "public_dns": "ec2-3-148-183-136.us-east-2.compute.amazonaws.com",
            "public_ip": "3.148.183.136",
            "region": "us-east-2",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "tags_all": {},
                "throughput": 0,
                "volume_id": "vol-0209dd9d2bd0168b0",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "spot_instance_request_id": "",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-workload-5"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-workload-5"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "#!/bin/bash\n\nexec \u003e \u003e(sudo tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\nset -ex\n\napt-get update -y\napt-get install -y python3 python3-pip\n\npip3 install flask gunicorn\n\nmkdir -p /opt/app\n\ncat \u003c\u003c 'PY_SCRIPT' \u003e /opt/app/workload_app.py\nfrom flask import Flask, make_response\nimport random\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health_check():\n    if random.random() \u003c 0.95:\n        return make_response(\"OK\", 200)\n    else:\n        return make_response(\"Service Unavailable\", 503)\nPY_SCRIPT\n\ncd /opt/app\nnohup gunicorn --workers 2 --bind 0.0.0.0:8080 workload_app:app \u0026",
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-066d996a8355cfbff"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_key_pair.minion-key",
            "aws_security_group.esm",
            "aws_security_group.workload",
            "data.aws_ami.ubuntu",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "minion-key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:key-pair/c1-key-cluster2",
            "fingerprint": "9a:63:9e:a7:e5:a3:48:b5:23:54:50:17:da:5e:e3:ad",
            "id": "c1-key-cluster2",
            "key_name": "c1-key-cluster2",
            "key_name_prefix": "",
            "key_pair_id": "key-0babed8f1ff686f30",
            "key_type": "rsa",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3oyrEPOw/m05XpNFdIaBoigI/RYEkk/HKEeyPLq+b1Ri7bAQlwtV1fk0uQODHBNm4c4RqGb/bPyTMYaZKKRisHJGWwrKOZw+Cusv4DnnFNUA8NHBU+3G2UMyrHrwRqw/BwIUL5P3IHHq7sjR17NT1Hf+wQQIEEL4A9nrOdZpSxShwjhss3tJHzi4D6EMrOl+Ry4zY+u7gMiBEXImRPdRduBRjNegrYq0iXx5b8PJhfen+CZncsPgWxNAcZKF8EJshNvF+TMPMocxXUZq2iU9q6EspmsuR2JVF5KVPP27Sh5VIVtbMDcpj6k2yavxZdwPPGJ5LWrKKrPKuDlu7oHgdCAQo9NwfPXImZqHnyqB++IFwevJc/PHRAUSl3eXA1g0mdgTEbc3ZuHq+I2Wk+NJ6EC6DVGJU+34wJiY4atLFsYts4zXuiC/94JcIii3LbNdLEGp+sbc4b1AExMCCCIASooCy3dMMV9GvGeHaC7Z98rxt1j+C/liqEkgYl7eKff6Pj9MxvOm1zWoAvCtCreOaIib5oZ9wqbgI18H+qW+zP3olMfzT05TCOCKkvyAMtPqB9SvOiZ6cmb7wlxrrp5mDBWOhMK7A/lE3Mo+hdSi78LOcfvKRCKtI8qsSJOcpC3Zq0+8TdLc8h1wO+3Sevt8QdL+ZaFsR+6PKi1wfk2IGTw==",
            "region": "us-east-2",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "consul_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-04939baf10d639a93",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-04939baf10d639a93",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 19000,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 19000
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 5050,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 5050
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 6060,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 6060
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 8443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8443
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 8500,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8500
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "jpmc-cluster2-sg",
            "name_prefix": "",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "esm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-02d7ca563e292b924",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-02d7ca563e292b924",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all TCP traffic from private networks",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 65535
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all UDP traffic from private networks",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "udp",
                "security_groups": [],
                "self": false,
                "to_port": 65535
              }
            ],
            "name": "jpmc-cluster2-consul-esm-sg-singlepartitiontest30s20250916070433187500000006",
            "name_prefix": "jpmc-cluster2-consul-esm-sg-singlepartitiontest30s",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "jpmc-cluster2-consul-esm-sg"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-consul-esm-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "grafana_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-073a824f141637989",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-073a824f141637989",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 3000,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 3000
              }
            ],
            "name": "jpmc-cluster2-prometheus-sg",
            "name_prefix": "",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "load_generator",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-02c91392171998364",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-02c91392171998364",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              }
            ],
            "name": "jpmc-cluster2-load-generator-sg",
            "name_prefix": "",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "prometheus_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-001033a0a5b84cbc4",
            "description": "Managed by Terraform",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-001033a0a5b84cbc4",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 9090,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 9090
              }
            ],
            "name": "jpmc-cluster2-prom-sg",
            "name_prefix": "",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "workload",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-066d996a8355cfbff",
            "description": "Allow health check traffic from ESM",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-066d996a8355cfbff",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [],
                "description": "Allow ICMP (ping) from ESM",
                "from_port": -1,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "icmp",
                "security_groups": [
                  "sg-02d7ca563e292b924"
                ],
                "self": false,
                "to_port": -1
              },
              {
                "cidr_blocks": [],
                "description": "Health Check from ESM",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-02d7ca563e292b924"
                ],
                "self": false,
                "to_port": 8080
              }
            ],
            "name": "workload-sg",
            "name_prefix": "",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_security_group.esm",
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "esm_config",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:us-east-2:857619977540:parameter/jpmc-cluster2-consul/esm/config",
            "data_type": "text",
            "description": "",
            "has_value_wo": false,
            "id": "/jpmc-cluster2-consul/esm/config",
            "insecure_value": null,
            "key_id": "alias/aws/ssm",
            "name": "/jpmc-cluster2-consul/esm/config",
            "overwrite": null,
            "region": "us-east-2",
            "tags": {},
            "tags_all": {},
            "tier": "Standard",
            "type": "SecureString",
            "value": "{\"consul\":{\"address\":\"10.0.3.149:8500\",\"datacenter\":\"dc1\",\"token\":\"e95b599e-166e-7d80-08ad-aee76e7ddf19\"},\"disable_coordinate_updates\":false,\"enable_syslog\":false,\"external_node_meta\":{\"external-node\":\"true\",\"external-probe\":\"true\"},\"http_addr\":\"0.0.0.0:8080\",\"instance_id\":\"consul-esm-jpmc-cluster2\",\"log_level\":\"INFO\",\"node_probe_interval\":\"10s\",\"node_reconnect_timeout\":\"72h\",\"service\":{\"name\":\"consul-esm\",\"tag\":\"external-service-monitor\"},\"telemetry\":{\"disable_hostname\":true,\"prometheus_retention_time\":\"60s\"}}",
            "value_wo": null,
            "value_wo_version": null,
            "version": 1
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_instance_profile.instance_profile",
            "aws_iam_role.instance_role",
            "aws_instance.consul",
            "aws_key_pair.minion-key",
            "aws_security_group.consul_sg",
            "data.aws_ami.ubuntu",
            "data.aws_iam_policy_document.instance_role",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "minion-key",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "-----BEGIN RSA PRIVATE KEY-----\n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\n-----END RSA PRIVATE KEY-----\n",
            "content_base64": null,
            "content_base64sha256": "3XbNaZYTVmpKrS+X+EeQWu6noeJqbjDV8ZpSoTg/6Cw=",
            "content_base64sha512": "62CHSep9ErhxRo02oy3eVN2zawkxBU+Hyg/DuSiT/WFWUHliLP6ozDxw2xq8o9KG0nhmTfuM3I9JXtwx2ru+KA==",
            "content_md5": "0b299f42f5546715f0b55c9d0cc89874",
            "content_sha1": "33933bbd9f9807cac3939dc865b8012cb2dd1d6b",
            "content_sha256": "dd76cd699613566a4aad2f97f847905aeea7a1e26a6e30d5f19a52a1383fe82c",
            "content_sha512": "eb608749ea7d12b871468d36a32dde54ddb36b0931054f87ca0fc3b92893fd61565079622cfea8cc3c70db1abca3d286d278664dfb8cdc8f495edc31dabbbe28",
            "directory_permission": "0777",
            "file_permission": "0400",
            "filename": "./c1-key.pem",
            "id": "33933bbd9f9807cac3939dc865b8012cb2dd1d6b",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "tls_private_key.pk"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_private_key",
      "name": "pk",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "algorithm": "RSA",
            "ecdsa_curve": "P224",
            "id": "bc971124c06d9ee134809dbb4537636a84b9da70",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\n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\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\n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\n-----END RSA PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\n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\nWjXkKC/f215Sc9HqR6j5zZvffrvcfw==\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "2c:bc:f0:7b:7f:32:5d:2f:33:b8:6b:36:13:be:6e:44",
            "public_key_fingerprint_sha256": "SHA256:x8FSa+owW1Iw360Tb2YpZ/jNw3pisvVEsGKTz1cBTbA",
            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC3oyrEPOw/m05XpNFdIaBoigI/RYEkk/HKEeyPLq+b1Ri7bAQlwtV1fk0uQODHBNm4c4RqGb/bPyTMYaZKKRisHJGWwrKOZw+Cusv4DnnFNUA8NHBU+3G2UMyrHrwRqw/BwIUL5P3IHHq7sjR17NT1Hf+wQQIEEL4A9nrOdZpSxShwjhss3tJHzi4D6EMrOl+Ry4zY+u7gMiBEXImRPdRduBRjNegrYq0iXx5b8PJhfen+CZncsPgWxNAcZKF8EJshNvF+TMPMocxXUZq2iU9q6EspmsuR2JVF5KVPP27Sh5VIVtbMDcpj6k2yavxZdwPPGJ5LWrKKrPKuDlu7oHgdCAQo9NwfPXImZqHnyqB++IFwevJc/PHRAUSl3eXA1g0mdgTEbc3ZuHq+I2Wk+NJ6EC6DVGJU+34wJiY4atLFsYts4zXuiC/94JcIii3LbNdLEGp+sbc4b1AExMCCCIASooCy3dMMV9GvGeHaC7Z98rxt1j+C/liqEkgYl7eKff6Pj9MxvOm1zWoAvCtCreOaIib5oZ9wqbgI18H+qW+zP3olMfzT05TCOCKkvyAMtPqB9SvOiZ6cmb7wlxrrp5mDBWOhMK7A/lE3Mo+hdSi78LOcfvKRCKtI8qsSJOcpC3Zq0+8TdLc8h1wO+3Sevt8QdL+ZaFsR+6PKi1wfk2IGTw==\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAt6MqxDzsP5tOV6TRXSGg\naIoCP0WBJJPxyhHsjy6vm9UYu2wEJcLVdX5NLkDgxwTZuHOEahm/2z8kzGGmSikY\nrByRlsKyjmcPgrrL+A55xTVAPDRwVPtxtlDMqx68EasPwcCFC+T9yBx6u7I0dezU\n9R3/sEECBBC+APZ6znWaUsUocI4bLN7SR84uA+hDKzpfkcuM2Pru4DIgRFyJkT3U\nXbgUYzXoK2KtIl8eW/DyYX3p/gmZ3LD4FsTQHGShfBCbITbxfkzDzKHMV1GatolP\nauhLKZrLkdiVReSlTz9u0oeVSFbWzA3KY+pNsmr8WXcDzxieS1qyiqzyrg5bu6B4\nHQgEKPTcHz1yJmah58qgfviBcHryXPzx0QFEpd3lwNYNJnYExG3N2bh6viNlpPjS\nehAug1RiVPt+MCYmOGrSxbGLbOM17ogv/eCXCIoty2zXSxBqfrG3OG9QBMTAggiA\nEqKAst3TDFfRrxnh2gu2ffK8bdY/gv5YqhJIGJe3in3+j4/TMbzptc1qALwrQq3j\nmiIm+aGfcKm4CNfB/qlvsz96JTH809OUwjgipL8gDLT6gfUrzomenJm+8Jca66eZ\ngwVjoTCuwP5RNzKPoXUou/CznH7ykQirSPKrEiTnKQt2atPvE3S3PIdcDvt0nr7f\nEHS/mWhbEfujyotcH5NiBk8CAwEAAQ==\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 4096
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_default_network_acl",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:network-acl/acl-0442ac9f89625cda2",
            "default_network_acl_id": "acl-0442ac9f89625cda2",
            "egress": [
              {
                "action": "allow",
                "cidr_block": "",
                "from_port": 0,
                "icmp_code": 0,
                "icmp_type": 0,
                "ipv6_cidr_block": "::/0",
                "protocol": "-1",
                "rule_no": 101,
                "to_port": 0
              },
              {
                "action": "allow",
                "cidr_block": "0.0.0.0/0",
                "from_port": 0,
                "icmp_code": 0,
                "icmp_type": 0,
                "ipv6_cidr_block": "",
                "protocol": "-1",
                "rule_no": 100,
                "to_port": 0
              }
            ],
            "id": "acl-0442ac9f89625cda2",
            "ingress": [
              {
                "action": "allow",
                "cidr_block": "",
                "from_port": 0,
                "icmp_code": 0,
                "icmp_type": 0,
                "ipv6_cidr_block": "::/0",
                "protocol": "-1",
                "rule_no": 101,
                "to_port": 0
              },
              {
                "action": "allow",
                "cidr_block": "0.0.0.0/0",
                "from_port": 0,
                "icmp_code": 0,
                "icmp_type": 0,
                "ipv6_cidr_block": "",
                "protocol": "-1",
                "rule_no": 100,
                "to_port": 0
              }
            ],
            "owner_id": "857619977540",
            "region": "us-east-2",
            "subnet_ids": [
              "subnet-02dd1baee8b9f02ec",
              "subnet-09777aaeb13764ab2",
              "subnet-0ccc2a83f1ea36f21",
              "subnet-0f5acdce6e3b754a7"
            ],
            "tags": {
              "Name": "jpmc-cluster2-vpc-default"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-default"
            },
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_default_route_table",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:route-table/rtb-09e9b33488eb5bb2f",
            "default_route_table_id": "rtb-09e9b33488eb5bb2f",
            "id": "rtb-09e9b33488eb5bb2f",
            "owner_id": "857619977540",
            "propagating_vgws": [],
            "region": "us-east-2",
            "route": [],
            "tags": {
              "Name": "jpmc-cluster2-vpc-default"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-default"
            },
            "timeouts": {
              "create": "5m",
              "update": "5m"
            },
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_default_security_group",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:security-group/sg-0093ea7bc83bc8054",
            "description": "default VPC security group",
            "egress": [],
            "id": "sg-0093ea7bc83bc8054",
            "ingress": [],
            "name": "default",
            "name_prefix": "",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "jpmc-cluster2-vpc-default"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-default"
            },
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0c4caff550cb7f759",
            "arn": "arn:aws:ec2:us-east-2:857619977540:elastic-ip/eipalloc-0c4caff550cb7f759",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-0772afd59ae0c038a",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0c4caff550cb7f759",
            "instance": "",
            "ipam_pool_id": null,
            "network_border_group": "us-east-2",
            "network_interface": "eni-0b7c1318ca948da46",
            "private_dns": "ip-10-0-3-67.us-east-2.compute.internal",
            "private_ip": "10.0.3.67",
            "ptr_record": "",
            "public_dns": "ec2-18-216-211-188.us-east-2.compute.amazonaws.com",
            "public_ip": "18.216.211.188",
            "public_ipv4_pool": "amazon",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-us-east-2a"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-us-east-2a"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0f9281700ce861537",
            "arn": "arn:aws:ec2:us-east-2:857619977540:elastic-ip/eipalloc-0f9281700ce861537",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-0a2e5e88e6673c5b7",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0f9281700ce861537",
            "instance": "",
            "ipam_pool_id": null,
            "network_border_group": "us-east-2",
            "network_interface": "eni-0b8cd7f863a3cf507",
            "private_dns": "ip-10-0-4-13.us-east-2.compute.internal",
            "private_ip": "10.0.4.13",
            "ptr_record": "",
            "public_dns": "ec2-3-142-253-93.us-east-2.compute.amazonaws.com",
            "public_ip": "3.142.253.93",
            "public_ipv4_pool": "amazon",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-us-east-2b"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-us-east-2b"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:internet-gateway/igw-0ea2a8b1ecb5f1701",
            "id": "igw-0ea2a8b1ecb5f1701",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0c4caff550cb7f759",
            "association_id": "eipassoc-0772afd59ae0c038a",
            "connectivity_type": "public",
            "id": "nat-0eb54f1d9752f2148",
            "network_interface_id": "eni-0b7c1318ca948da46",
            "private_ip": "10.0.3.67",
            "public_ip": "18.216.211.188",
            "region": "us-east-2",
            "secondary_allocation_ids": [],
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-09777aaeb13764ab2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-us-east-2a"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-us-east-2a"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0f9281700ce861537",
            "association_id": "eipassoc-0a2e5e88e6673c5b7",
            "connectivity_type": "public",
            "id": "nat-08d0650086ba8d439",
            "network_interface_id": "eni-0b8cd7f863a3cf507",
            "private_ip": "10.0.4.13",
            "public_ip": "3.142.253.93",
            "region": "us-east-2",
            "secondary_allocation_ids": [],
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-02dd1baee8b9f02ec",
            "tags": {
              "Name": "jpmc-cluster2-vpc-us-east-2b"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-us-east-2b"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0ef15ca169aad86881080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-0eb54f1d9752f2148",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "region": "us-east-2",
            "route_table_id": "rtb-0ef15ca169aad8688",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-07efc742d0b10820b1080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-08d0650086ba8d439",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "region": "us-east-2",
            "route_table_id": "rtb-07efc742d0b10820b",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_nat_gateway.this",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-0ea2a8b1ecb5f1701",
            "id": "r-rtb-08ad9f09da2ebb7b21080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "region": "us-east-2",
            "route_table_id": "rtb-08ad9f09da2ebb7b2",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_internet_gateway.this",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:route-table/rtb-0ef15ca169aad8688",
            "id": "rtb-0ef15ca169aad8688",
            "owner_id": "857619977540",
            "propagating_vgws": [],
            "region": "us-east-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-0eb54f1d9752f2148",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2a"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2a"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:route-table/rtb-07efc742d0b10820b",
            "id": "rtb-07efc742d0b10820b",
            "owner_id": "857619977540",
            "propagating_vgws": [],
            "region": "us-east-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-08d0650086ba8d439",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2b"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2b"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:route-table/rtb-08ad9f09da2ebb7b2",
            "id": "rtb-08ad9f09da2ebb7b2",
            "owner_id": "857619977540",
            "propagating_vgws": [],
            "region": "us-east-2",
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0ea2a8b1ecb5f1701",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "jpmc-cluster2-vpc-public"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-public"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0e43b12c9b7776b76",
            "region": "us-east-2",
            "route_table_id": "rtb-0ef15ca169aad8688",
            "subnet_id": "subnet-0f5acdce6e3b754a7",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0cd410bf4b78fcd5a",
            "region": "us-east-2",
            "route_table_id": "rtb-07efc742d0b10820b",
            "subnet_id": "subnet-0ccc2a83f1ea36f21",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0501fb830debb7c6b",
            "region": "us-east-2",
            "route_table_id": "rtb-08ad9f09da2ebb7b2",
            "subnet_id": "subnet-09777aaeb13764ab2",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-012504485f01409cc",
            "region": "us-east-2",
            "route_table_id": "rtb-08ad9f09da2ebb7b2",
            "subnet_id": "subnet-02dd1baee8b9f02ec",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:subnet/subnet-0f5acdce6e3b754a7",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-2a",
            "availability_zone_id": "use2-az1",
            "cidr_block": "10.0.1.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0f5acdce6e3b754a7",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "857619977540",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2a"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2a"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:subnet/subnet-0ccc2a83f1ea36f21",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-2b",
            "availability_zone_id": "use2-az2",
            "cidr_block": "10.0.2.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0ccc2a83f1ea36f21",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "857619977540",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2b"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-private-us-east-2b"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:subnet/subnet-09777aaeb13764ab2",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-2a",
            "availability_zone_id": "use2-az1",
            "cidr_block": "10.0.3.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-09777aaeb13764ab2",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "857619977540",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-public-us-east-2a"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-public-us-east-2a"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:subnet/subnet-02dd1baee8b9f02ec",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-2b",
            "availability_zone_id": "use2-az2",
            "cidr_block": "10.0.4.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-02dd1baee8b9f02ec",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "857619977540",
            "private_dns_hostname_type_on_launch": "ip-name",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc-public-us-east-2b"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc-public-us-east-2b"
            },
            "timeouts": null,
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-2:857619977540:vpc/vpc-0134e2140f33e12cb",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.0.0.0/16",
            "default_network_acl_id": "acl-0442ac9f89625cda2",
            "default_route_table_id": "rtb-09e9b33488eb5bb2f",
            "default_security_group_id": "sg-0093ea7bc83bc8054",
            "dhcp_options_id": "dopt-03d45d5c768888fce",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "id": "vpc-0134e2140f33e12cb",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-09e9b33488eb5bb2f",
            "owner_id": "857619977540",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpn_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "amazon_side_asn": "64512",
            "arn": "arn:aws:ec2:us-east-2:857619977540:vpn-gateway/vgw-08d961f408097a320",
            "availability_zone": null,
            "id": "vgw-08d961f408097a320",
            "region": "us-east-2",
            "tags": {
              "Name": "jpmc-cluster2-vpc"
            },
            "tags_all": {
              "Name": "jpmc-cluster2-vpc"
            },
            "vpc_id": "vpc-0134e2140f33e12cb"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.this",
            "module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
